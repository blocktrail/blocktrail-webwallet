<div class="container">
    <div class="row">
        <div class="col-md-6 col-md-offset-3 col-sm-12 col-xs-12">
            <div class="appWrapper">
                <h1 class="pageTitle">{{ 'SETUP_FORGOT_PASSWORD' | translate }}</h1>
                <div class="formContainer"
                     ng-if="stepCount === 0">
                    <!-- Step 1 of password change -->
                    <form name="forgotPassForm"
                          class="form"
                          novalidate>
                        <div ng-if="error" class="has-error">
                            <div class="help-block">
                                {{ error | translate }}
                            </div>
                        </div>

                        <div class="help-block">
                            {{ 'SETUP_FORGOT_PASS_INFO' | translate }}
                        </div>

                        <div class="form-group form-group-lg" ng-class="{'has-error': forgotPassForm.email.$dirty && forgotPassForm.email.$invalid}">
                            <input class="form-control" type="email" placeholder="{{ 'SETUP_FORGOT_PASS_PLACEHOLDER' | translate }}"
                                   name="email"
                                   ng-model="form.email"
                                   required="true"
                                   required
                            />

                            <div class="help help-block text-danger" ng-if="forgotPassForm.email.$dirty && forgotPassForm.email.$invalid">
                                <div ng-if="forgotPassForm.email.$error.required">{{ 'MSG_BAD_EMAIL' | translate }}</div>
                                <div ng-if="!forgotPassForm.email.$error.required && forgotPassForm.email.$error.email">
                                    {{ 'MSG_BAD_EMAIL' | translate }}
                                </div>
                            </div>
                        </div>

                        <div class="form-group form-group-lg form-group-buttons">
                            <button class="form-control btn btn-alt btn-primary" ng-disabled="working" ng-click="doForgotPass(forgotPassForm)">{{ 'CONTINUE' | translate }}</button>
                            <div ng-if="working">
                                <loading-spinner></loading-spinner>
                                {{ 'PLEASE_WAIT' | translate }}
                            </div>
                        </div>

                        <div class="smallButtons extraMarginBottom">
                            <p>
                                <a style="float: left" class="sentence-case" ui-sref="app.setup.login">{{ 'BACK' | translate }}</a>
                            </p>
                        </div>
                    </form>
                </div>

                <div class="formContainer" ng-if="stepCount === 1">
                    <h3>Please check your e-mail inbox.</h3>

                    <p>If your e-mail is registered with us, then we've sent you a password recovery link.</p>

                    <div class="smallButtons extraMarginBottom">
                        <p>
                            <a style="float: left" class="sentence-case" ui-sref="app.setup.login">{{ 'BACK' | translate }}</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
